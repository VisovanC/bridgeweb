{"ast":null,"code":"import { isSerializedBcs } from \"@mysten/bcs\";\nimport { array, bigint, boolean, integer, number, object, string, union } from \"superstruct\";\nimport { bcs } from \"../bcs/index.js\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nconst SuiObjectRef = object({\n  /** Base64 string representing the object digest */\n  digest: string(),\n  /** Hex code as string representing the object id */\n  objectId: string(),\n  /** Object version */\n  version: union([number(), string(), bigint()])\n});\nconst ObjectArg = union([object({\n  ImmOrOwned: SuiObjectRef\n}), object({\n  Shared: object({\n    objectId: string(),\n    initialSharedVersion: union([integer(), string()]),\n    mutable: boolean()\n  })\n}), object({\n  Receiving: SuiObjectRef\n})]);\nconst PureCallArg = object({\n  Pure: array(integer())\n});\nconst ObjectCallArg = object({\n  Object: ObjectArg\n});\nconst BuilderCallArg = union([PureCallArg, ObjectCallArg]);\nfunction Pure(data, type) {\n  return {\n    Pure: Array.from(data instanceof Uint8Array ? data : isSerializedBcs(data) ? data.toBytes() :\n    // NOTE: We explicitly set this to be growable to infinity, because we have maxSize validation at the builder-level:\n    bcs.ser(type, data, {\n      maxSize: Infinity\n    }).toBytes())\n  };\n}\nconst Inputs = {\n  Pure,\n  ObjectRef({\n    objectId,\n    digest,\n    version\n  }) {\n    return {\n      Object: {\n        ImmOrOwned: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  },\n  SharedObjectRef({\n    objectId,\n    mutable,\n    initialSharedVersion\n  }) {\n    return {\n      Object: {\n        Shared: {\n          mutable,\n          initialSharedVersion,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  },\n  ReceivingRef({\n    objectId,\n    digest,\n    version\n  }) {\n    return {\n      Object: {\n        Receiving: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId)\n        }\n      }\n    };\n  }\n};\nfunction getIdFromCallArg(arg) {\n  if (typeof arg === \"string\") {\n    return normalizeSuiAddress(arg);\n  }\n  if (\"ImmOrOwned\" in arg.Object) {\n    return normalizeSuiAddress(arg.Object.ImmOrOwned.objectId);\n  }\n  if (\"Receiving\" in arg.Object) {\n    return normalizeSuiAddress(arg.Object.Receiving.objectId);\n  }\n  return normalizeSuiAddress(arg.Object.Shared.objectId);\n}\nfunction getSharedObjectInput(arg) {\n  return typeof arg === \"object\" && \"Object\" in arg && \"Shared\" in arg.Object ? arg.Object.Shared : void 0;\n}\nfunction isSharedObjectInput(arg) {\n  return !!getSharedObjectInput(arg);\n}\nfunction isMutableSharedObjectInput(arg) {\n  return getSharedObjectInput(arg)?.mutable ?? false;\n}\nexport { BuilderCallArg, Inputs, ObjectCallArg, PureCallArg, SuiObjectRef, getIdFromCallArg, getSharedObjectInput, isMutableSharedObjectInput, isSharedObjectInput };","map":{"version":3,"names":["isSerializedBcs","array","bigint","boolean","integer","number","object","string","union","bcs","normalizeSuiAddress","SuiObjectRef","digest","objectId","version","ObjectArg","ImmOrOwned","Shared","initialSharedVersion","mutable","Receiving","PureCallArg","Pure","ObjectCallArg","Object","BuilderCallArg","data","type","Array","from","Uint8Array","toBytes","ser","maxSize","Infinity","Inputs","ObjectRef","SharedObjectRef","ReceivingRef","getIdFromCallArg","arg","getSharedObjectInput","isSharedObjectInput","isMutableSharedObjectInput"],"sources":["/home/cala/project/bridgeweb/node_modules/@mysten/sui.js/src/transactions/Inputs.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { SerializedBcs } from '@mysten/bcs';\nimport { isSerializedBcs } from '@mysten/bcs';\nimport type { Infer } from 'superstruct';\nimport { array, bigint, boolean, integer, number, object, string, union } from 'superstruct';\n\nimport { bcs } from '../bcs/index.js';\nimport type { SharedObjectRef } from '../bcs/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\n\nexport const SuiObjectRef = object({\n\t/** Base64 string representing the object digest */\n\tdigest: string(),\n\t/** Hex code as string representing the object id */\n\tobjectId: string(),\n\t/** Object version */\n\tversion: union([number(), string(), bigint()]),\n});\nexport type SuiObjectRef = Infer<typeof SuiObjectRef>;\n\nconst ObjectArg = union([\n\tobject({ ImmOrOwned: SuiObjectRef }),\n\tobject({\n\t\tShared: object({\n\t\t\tobjectId: string(),\n\t\t\tinitialSharedVersion: union([integer(), string()]),\n\t\t\tmutable: boolean(),\n\t\t}),\n\t}),\n\tobject({ Receiving: SuiObjectRef }),\n]);\n\nexport const PureCallArg = object({ Pure: array(integer()) });\nexport const ObjectCallArg = object({ Object: ObjectArg });\nexport type PureCallArg = Infer<typeof PureCallArg>;\nexport type ObjectCallArg = Infer<typeof ObjectCallArg>;\n\nexport const BuilderCallArg = union([PureCallArg, ObjectCallArg]);\nexport type BuilderCallArg = Infer<typeof BuilderCallArg>;\n\nfunction Pure(data: Uint8Array | SerializedBcs<any>, type?: string): PureCallArg;\n/** @deprecated pass SerializedBcs values instead */\nfunction Pure(data: unknown, type?: string): PureCallArg;\nfunction Pure(data: unknown, type?: string): PureCallArg {\n\treturn {\n\t\tPure: Array.from(\n\t\t\tdata instanceof Uint8Array\n\t\t\t\t? data\n\t\t\t\t: isSerializedBcs(data)\n\t\t\t\t? data.toBytes()\n\t\t\t\t: // NOTE: We explicitly set this to be growable to infinity, because we have maxSize validation at the builder-level:\n\t\t\t\t  bcs.ser(type!, data, { maxSize: Infinity }).toBytes(),\n\t\t),\n\t};\n}\n\nexport const Inputs = {\n\tPure,\n\tObjectRef({ objectId, digest, version }: SuiObjectRef): ObjectCallArg {\n\t\treturn {\n\t\t\tObject: {\n\t\t\t\tImmOrOwned: {\n\t\t\t\t\tdigest,\n\t\t\t\t\tversion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n\tSharedObjectRef({ objectId, mutable, initialSharedVersion }: SharedObjectRef): ObjectCallArg {\n\t\treturn {\n\t\t\tObject: {\n\t\t\t\tShared: {\n\t\t\t\t\tmutable,\n\t\t\t\t\tinitialSharedVersion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n\tReceivingRef({ objectId, digest, version }: SuiObjectRef): ObjectCallArg {\n\t\treturn {\n\t\t\tObject: {\n\t\t\t\tReceiving: {\n\t\t\t\t\tdigest,\n\t\t\t\t\tversion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n\nexport function getIdFromCallArg(arg: string | ObjectCallArg) {\n\tif (typeof arg === 'string') {\n\t\treturn normalizeSuiAddress(arg);\n\t}\n\tif ('ImmOrOwned' in arg.Object) {\n\t\treturn normalizeSuiAddress(arg.Object.ImmOrOwned.objectId);\n\t}\n\n\tif ('Receiving' in arg.Object) {\n\t\treturn normalizeSuiAddress(arg.Object.Receiving.objectId);\n\t}\n\n\treturn normalizeSuiAddress(arg.Object.Shared.objectId);\n}\n\nexport function getSharedObjectInput(arg: BuilderCallArg): SharedObjectRef | undefined {\n\treturn typeof arg === 'object' && 'Object' in arg && 'Shared' in arg.Object\n\t\t? arg.Object.Shared\n\t\t: undefined;\n}\n\nexport function isSharedObjectInput(arg: BuilderCallArg): boolean {\n\treturn !!getSharedObjectInput(arg);\n}\n\nexport function isMutableSharedObjectInput(arg: BuilderCallArg): boolean {\n\treturn getSharedObjectInput(arg)?.mutable ?? false;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}